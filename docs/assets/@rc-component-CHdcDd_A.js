import{h as rn,i as tn,a as qr,_ as kr,k as $t,e as F,d as qe,c as q,b as G,g as Dr,f as $e,j as It,l as wn}from"./@babel-D91nw8a6.js";import{a as T,r as f}from"./react-jFU0esu9.js";import{F as nn}from"./@ant-design-vYfmaQbJ.js";import{c as Ee}from"./classnames-ixCMRz17.js";import{d as Te,e as En,c as et,u as se,f as Nn,a as Mn,r as pt,s as an,h as on,i as xn,j as Dn,k as Pn,l as Rt,m as Rn,g as Ft,n as Fn,o as qn}from"./rc-util-BGVI6VDl.js";import"./react-is-CX4zgkE_.js";import{r as kn}from"./react-dom-Dl7ImxMp.js";import{R as un}from"./rc-resize-observer-CUhI3ncJ.js";import{C as sn}from"./rc-motion-BS5OivOI.js";var An=["b"],Ln=["v"],Dt=function(e){return Math.round(Number(e||0))},Tn=function(e){if(e instanceof nn)return e;if(e&&qe(e)==="object"&&"h"in e&&"b"in e){var r=e,n=r.b,a=$t(r,An);return F(F({},a),{},{v:n})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},vr=function(t){rn(r,t);var e=tn(r);function r(n){return qr(this,r),e.call(this,Tn(n))}return kr(r,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=Dt(a.s*100),o=Dt(a.b*100),u=Dt(a.h),l=a.a,h="hsb(".concat(u,", ").concat(i,"%, ").concat(o,"%)"),g="hsba(".concat(u,", ").concat(i,"%, ").concat(o,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?h:g}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,o=$t(a,Ln);return F(F({},o),{},{b:i,a:this.a})}}]),r}(nn),$n="rc-color-picker",fr=function(e){return e instanceof vr?e:new vr(e)},Hn=fr("#1677ff"),cn=function(e){var r=e.offset,n=e.targetRef,a=e.containerRef,i=e.color,o=e.type,u=a.current.getBoundingClientRect(),l=u.width,h=u.height,g=n.current.getBoundingClientRect(),d=g.width,b=g.height,v=d/2,s=b/2,y=(r.x+v)/l,c=1-(r.y+s)/h,N=i.toHsb(),w=y,M=(r.x+v)/l*360;if(o)switch(o){case"hue":return fr(F(F({},N),{},{h:M<=0?0:M}));case"alpha":return fr(F(F({},N),{},{a:w<=0?0:w}))}return fr({h:N.h,s:y<=0?0:y,b:c>=1?1:c,a:N.a})},ln=function(e,r){var n=e.toHsb();switch(r){case"hue":return{x:n.h/360*100,y:50};case"alpha":return{x:e.a*100,y:50};default:return{x:n.s*100,y:(1-n.b)*100}}},_n=function(e){var r=e.color,n=e.prefixCls,a=e.className,i=e.style,o=e.onClick,u="".concat(n,"-color-block");return T.createElement("div",{className:Ee(u,a),style:i,onClick:o},T.createElement("div",{className:"".concat(u,"-inner"),style:{background:r}}))};function In(t){var e="touches"in t?t.touches[0]:t,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-r,pageY:e.pageY-n}}function fn(t){var e=t.targetRef,r=t.containerRef,n=t.direction,a=t.onDragChange,i=t.onDragChangeComplete,o=t.calculate,u=t.color,l=t.disabledDrag,h=f.useState({x:0,y:0}),g=q(h,2),d=g[0],b=g[1],v=f.useRef(null),s=f.useRef(null);f.useEffect(function(){b(o())},[u]),f.useEffect(function(){return function(){document.removeEventListener("mousemove",v.current),document.removeEventListener("mouseup",s.current),document.removeEventListener("touchmove",v.current),document.removeEventListener("touchend",s.current),v.current=null,s.current=null}},[]);var y=function(C){var E=In(C),S=E.pageX,k=E.pageY,A=r.current.getBoundingClientRect(),$=A.x,j=A.y,Q=A.width,X=A.height,V=e.current.getBoundingClientRect(),L=V.width,Z=V.height,U=L/2,ne=Z/2,I=Math.max(0,Math.min(S-$,Q))-U,P=Math.max(0,Math.min(k-j,X))-ne,R={x:I,y:n==="x"?d.y:P};if(L===0&&Z===0||L!==Z)return!1;a==null||a(R)},c=function(C){C.preventDefault(),y(C)},N=function(C){C.preventDefault(),document.removeEventListener("mousemove",v.current),document.removeEventListener("mouseup",s.current),document.removeEventListener("touchmove",v.current),document.removeEventListener("touchend",s.current),v.current=null,s.current=null,i==null||i()},w=function(C){document.removeEventListener("mousemove",v.current),document.removeEventListener("mouseup",s.current),!l&&(y(C),document.addEventListener("mousemove",c),document.addEventListener("mouseup",N),document.addEventListener("touchmove",c),document.addEventListener("touchend",N),v.current=c,s.current=N)};return[d,w]}var vn=function(e){var r=e.size,n=r===void 0?"default":r,a=e.color,i=e.prefixCls;return T.createElement("div",{className:Ee("".concat(i,"-handler"),G({},"".concat(i,"-handler-sm"),n==="small")),style:{backgroundColor:a}})},dn=function(e){var r=e.children,n=e.style,a=e.prefixCls;return T.createElement("div",{className:"".concat(a,"-palette"),style:F({position:"relative"},n)},r)},gn=f.forwardRef(function(t,e){var r=t.children,n=t.x,a=t.y;return T.createElement("div",{ref:e,style:{position:"absolute",left:"".concat(n,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},r)}),pn=function(e){var r=e.color,n=e.onChange,a=e.prefixCls,i=e.onChangeComplete,o=e.disabled,u=f.useRef(),l=f.useRef(),h=f.useRef(r),g=Te(function(y){var c=cn({offset:y,targetRef:l,containerRef:u,color:r});h.current=c,n(c)}),d=fn({color:r,containerRef:u,targetRef:l,calculate:function(){return ln(r)},onDragChange:g,onDragChangeComplete:function(){return i==null?void 0:i(h.current)},disabledDrag:o}),b=q(d,2),v=b[0],s=b[1];return T.createElement("div",{ref:u,className:"".concat(a,"-select"),onMouseDown:s,onTouchStart:s},T.createElement(dn,{prefixCls:a},T.createElement(gn,{x:v.x,y:v.y,ref:l},T.createElement(vn,{color:r.toRgbString(),prefixCls:a})),T.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(r.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Bn=function(e,r){var n=En(e,{value:r}),a=q(n,2),i=a[0],o=a[1],u=f.useMemo(function(){return fr(i)},[i]);return[u,o]},Vn=function(e){var r=e.colors,n=e.children,a=e.direction,i=a===void 0?"to right":a,o=e.type,u=e.prefixCls,l=f.useMemo(function(){return r.map(function(h,g){var d=fr(h);return o==="alpha"&&g===r.length-1&&(d=new vr(d.setA(1))),d.toRgbString()}).join(",")},[r,o]);return T.createElement("div",{className:"".concat(u,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(l,")")}},n)},Wn=function(e){var r=e.prefixCls,n=e.colors,a=e.disabled,i=e.onChange,o=e.onChangeComplete,u=e.color,l=e.type,h=f.useRef(),g=f.useRef(),d=f.useRef(u),b=function(E){return l==="hue"?E.getHue():E.a*100},v=Te(function(C){var E=cn({offset:C,targetRef:g,containerRef:h,color:u,type:l});d.current=E,i(b(E))}),s=fn({color:u,targetRef:g,containerRef:h,calculate:function(){return ln(u,l)},onDragChange:v,onDragChangeComplete:function(){o(b(d.current))},direction:"x",disabledDrag:a}),y=q(s,2),c=y[0],N=y[1],w=T.useMemo(function(){if(l==="hue"){var C=u.toHsb();C.s=1,C.b=1,C.a=1;var E=new vr(C);return E}return u},[u,l]),M=T.useMemo(function(){return n.map(function(C){return"".concat(C.color," ").concat(C.percent,"%")})},[n]);return T.createElement("div",{ref:h,className:Ee("".concat(r,"-slider"),"".concat(r,"-slider-").concat(l)),onMouseDown:N,onTouchStart:N},T.createElement(dn,{prefixCls:r},T.createElement(gn,{x:c.x,y:c.y,ref:g},T.createElement(vn,{size:"small",color:w.toHexString(),prefixCls:r})),T.createElement(Vn,{colors:M,type:l,prefixCls:r})))};function jn(t){return f.useMemo(function(){var e=t||{},r=e.slider;return[r||Wn]},[t])}var zn=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Xa=f.forwardRef(function(t,e){var r=t.value,n=t.defaultValue,a=t.prefixCls,i=a===void 0?$n:a,o=t.onChange,u=t.onChangeComplete,l=t.className,h=t.style,g=t.panelRender,d=t.disabledAlpha,b=d===void 0?!1:d,v=t.disabled,s=v===void 0?!1:v,y=t.components,c=jn(y),N=q(c,1),w=N[0],M=Bn(n||Hn,r),C=q(M,2),E=C[0],S=C[1],k=f.useMemo(function(){return E.setA(1).toRgbString()},[E]),A=function(P,R){r||S(P),o==null||o(P,R)},$=function(P){return new vr(E.setHue(P))},j=function(P){return new vr(E.setA(P/100))},Q=function(P){A($(P),{type:"hue",value:P})},X=function(P){A(j(P),{type:"alpha",value:P})},V=function(P){u&&u($(P))},L=function(P){u&&u(j(P))},Z=Ee("".concat(i,"-panel"),l,G({},"".concat(i,"-panel-disabled"),s)),U={prefixCls:i,disabled:s,color:E},ne=T.createElement(T.Fragment,null,T.createElement(pn,Dr({onChange:A},U,{onChangeComplete:u})),T.createElement("div",{className:"".concat(i,"-slider-container")},T.createElement("div",{className:Ee("".concat(i,"-slider-group"),G({},"".concat(i,"-slider-group-disabled-alpha"),b))},T.createElement(w,Dr({},U,{type:"hue",colors:zn,min:0,max:359,value:E.getHue(),onChange:Q,onChangeComplete:V})),!b&&T.createElement(w,Dr({},U,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:k}],min:0,max:100,value:E.a*100,onChange:X,onChangeComplete:L}))),T.createElement(_n,{color:E.toRgbString(),prefixCls:i})));return T.createElement("div",{className:Z,style:h,ref:e},typeof g=="function"?g(ne):ne)}),hn=f.createContext(null),Bt=[];function Gn(t,e){var r=f.useState(function(){if(!et())return null;var s=document.createElement("div");return s}),n=q(r,1),a=n[0],i=f.useRef(!1),o=f.useContext(hn),u=f.useState(Bt),l=q(u,2),h=l[0],g=l[1],d=o||(i.current?void 0:function(s){g(function(y){var c=[s].concat($e(y));return c})});function b(){a.parentElement||document.body.appendChild(a),i.current=!0}function v(){var s;(s=a.parentElement)===null||s===void 0||s.removeChild(a),i.current=!1}return se(function(){return t?o?o(b):b():v(),v},[t]),se(function(){h.length&&(h.forEach(function(s){return s()}),g(Bt))},[h]),[a,d]}function Un(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var On="rc-util-locker-".concat(Date.now()),Vt=0;function Jn(t){var e=!!t,r=f.useState(function(){return Vt+=1,"".concat(On,"_").concat(Vt)}),n=q(r,1),a=n[0];se(function(){if(e){var i=Nn(document.body).width,o=Un();Mn(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else pt(a);return function(){pt(a)}},[e,a])}var Qn=!1;function Zn(t){return Qn}var Wt=function(e){return e===!1?!1:!et()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},mn=f.forwardRef(function(t,e){var r=t.open,n=t.autoLock,a=t.getContainer;t.debug;var i=t.autoDestroy,o=i===void 0?!0:i,u=t.children,l=f.useState(r),h=q(l,2),g=h[0],d=h[1],b=g||r;f.useEffect(function(){(o||r)&&d(r)},[r,o]);var v=f.useState(function(){return Wt(a)}),s=q(v,2),y=s[0],c=s[1];f.useEffect(function(){var Q=Wt(a);c(Q??null)});var N=Gn(b&&!y),w=q(N,2),M=w[0],C=w[1],E=y??M;Jn(n&&r&&et()&&(E===M||E===document.body));var S=null;if(u&&an(u)&&e){var k=u;S=k.ref}var A=on(S,e);if(!b||!et()||y===void 0)return null;var $=E===!1||Zn(),j=u;return e&&(j=f.cloneElement(u,{ref:A})),f.createElement(hn.Provider,{value:C},$?j:kn.createPortal(j,E))});function qt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var kt=qt(),Kn=/%[sdj%]/g,Xn=function(){};function At(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function ce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=0,i=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(Kn,function(u){if(u==="%%")return"%";if(a>=i)return u;switch(u){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return u}});return o}return t}function Yn(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function J(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Yn(e)&&typeof t=="string"&&!t)}function ea(t,e,r){var n=[],a=0,i=t.length;function o(u){n.push.apply(n,$e(u||[])),a++,a===i&&r(n)}t.forEach(function(u){e(u,o)})}function jt(t,e,r){var n=0,a=t.length;function i(o){if(o&&o.length){r(o);return}var u=n;n=n+1,u<a?e(t[u],i):r([])}i([])}function ra(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,$e(t[r]||[]))}),e}var zt=function(t){rn(r,t);var e=tn(r);function r(n,a){var i;return qr(this,r),i=e.call(this,"Async Validation Error"),G(It(i),"errors",void 0),G(It(i),"fields",void 0),i.errors=n,i.fields=a,i}return kr(r)}(wn(Error));function ta(t,e,r,n,a){if(e.first){var i=new Promise(function(b,v){var s=function(N){return n(N),N.length?v(new zt(N,At(N))):b(a)},y=ra(t);jt(y,r,s)});return i.catch(function(b){return b}),i}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],u=Object.keys(t),l=u.length,h=0,g=[],d=new Promise(function(b,v){var s=function(c){if(g.push.apply(g,c),h++,h===l)return n(g),g.length?v(new zt(g,At(g))):b(a)};u.length||(n(g),b(a)),u.forEach(function(y){var c=t[y];o.indexOf(y)!==-1?jt(c,r,s):ea(c,r,s)})});return d.catch(function(b){return b}),d}function na(t){return!!(t&&t.message!==void 0)}function aa(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function Gt(t,e){return function(r){var n;return t.fullFields?n=aa(e,t.fullFields):n=e[r.field||t.fullField],na(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function Ut(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];qe(n)==="object"&&qe(t[r])==="object"?t[r]=F(F({},t[r]),n):t[r]=n}}return t}var cr="enum",ia=function(e,r,n,a,i){e[cr]=Array.isArray(e[cr])?e[cr]:[],e[cr].indexOf(r)===-1&&a.push(ce(i.messages[cr],e.fullField,e[cr].join(", ")))},oa=function(e,r,n,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(ce(i.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||a.push(ce(i.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},ua=function(e,r,n,a,i){var o=typeof e.len=="number",u=typeof e.min=="number",l=typeof e.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=r,d=null,b=typeof r=="number",v=typeof r=="string",s=Array.isArray(r);if(b?d="number":v?d="string":s&&(d="array"),!d)return!1;s&&(g=r.length),v&&(g=r.replace(h,"_").length),o?g!==e.len&&a.push(ce(i.messages[d].len,e.fullField,e.len)):u&&!l&&g<e.min?a.push(ce(i.messages[d].min,e.fullField,e.min)):l&&!u&&g>e.max?a.push(ce(i.messages[d].max,e.fullField,e.max)):u&&l&&(g<e.min||g>e.max)&&a.push(ce(i.messages[d].range,e.fullField,e.min,e.max))},yn=function(e,r,n,a,i,o){e.required&&(!n.hasOwnProperty(e.field)||J(r,o||e.type))&&a.push(ce(i.messages.required,e.fullField))},Yr;const sa=function(){if(Yr)return Yr;var t="[a-fA-F\\d:]",e=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),u=new RegExp("(?:^".concat(r,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(r,"$")),h=new RegExp("^".concat(o,"$")),g=function(S){return S&&S.exact?u:new RegExp("(?:".concat(e(S)).concat(r).concat(e(S),")|(?:").concat(e(S)).concat(o).concat(e(S),")"),"g")};g.v4=function(E){return E&&E.exact?l:new RegExp("".concat(e(E)).concat(r).concat(e(E)),"g")},g.v6=function(E){return E&&E.exact?h:new RegExp("".concat(e(E)).concat(o).concat(e(E)),"g")};var d="(?:(?:[a-z]+:)?//)",b="(?:\\S+(?::\\S*)?@)?",v=g.v4().source,s=g.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",c="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",N="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",M='(?:[/?#][^\\s"]*)?',C="(?:".concat(d,"|www\\.)").concat(b,"(?:localhost|").concat(v,"|").concat(s,"|").concat(y).concat(c).concat(N,")").concat(w).concat(M);return Yr=new RegExp("(?:^".concat(C,"$)"),"i"),Yr};var Ot={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Mr={integer:function(e){return Mr.number(e)&&parseInt(e,10)===e},float:function(e){return Mr.number(e)&&!Mr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return qe(e)==="object"&&!Mr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Ot.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(sa())},hex:function(e){return typeof e=="string"&&!!e.match(Ot.hex)}},ca=function(e,r,n,a,i){if(e.required&&r===void 0){yn(e,r,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=e.type;o.indexOf(u)>-1?Mr[u](r)||a.push(ce(i.messages.types[u],e.fullField,e.type)):u&&qe(r)!==e.type&&a.push(ce(i.messages.types[u],e.fullField,e.type))},la=function(e,r,n,a,i){(/^\s+$/.test(r)||r==="")&&a.push(ce(i.messages.whitespace,e.fullField))};const D={required:yn,whitespace:la,type:ca,range:ua,enum:ia,pattern:oa};var fa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i)}n(o)},va=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(r==null&&!e.required)return n();D.required(e,r,a,o,i,"array"),r!=null&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},da=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D.type(e,r,a,o,i)}n(o)},ga=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r,"date")&&!e.required)return n();if(D.required(e,r,a,o,i),!J(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),D.type(e,l,a,o,i),l&&D.range(e,l.getTime(),a,o,i)}}n(o)},ha="enum",ma=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D[ha](e,r,a,o,i)}n(o)},ya=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},ba=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},Ca=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D.type(e,r,a,o,i)}n(o)},Sa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(r===""&&(r=void 0),J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&(D.type(e,r,a,o,i),D.range(e,r,a,o,i))}n(o)},wa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),r!==void 0&&D.type(e,r,a,o,i)}n(o)},Ea=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r,"string")&&!e.required)return n();D.required(e,r,a,o,i),J(r,"string")||D.pattern(e,r,a,o,i)}n(o)},Na=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r)&&!e.required)return n();D.required(e,r,a,o,i),J(r)||D.type(e,r,a,o,i)}n(o)},Ma=function(e,r,n,a,i){var o=[],u=Array.isArray(r)?"array":qe(r);D.required(e,r,a,o,i,u),n(o)},xa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(J(r,"string")&&!e.required)return n();D.required(e,r,a,o,i,"string"),J(r,"string")||(D.type(e,r,a,o,i),D.range(e,r,a,o,i),D.pattern(e,r,a,o,i),e.whitespace===!0&&D.whitespace(e,r,a,o,i))}n(o)},Pt=function(e,r,n,a,i){var o=e.type,u=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(J(r,o)&&!e.required)return n();D.required(e,r,a,u,i,o),J(r,o)||D.type(e,r,a,u,i)}n(u)};const Pr={string:xa,method:Ca,number:Sa,boolean:da,regexp:Na,integer:ba,float:ya,array:va,object:wa,enum:ma,pattern:Ea,date:ga,url:Pt,hex:Pt,email:Pt,required:Ma,any:fa};var rt=function(){function t(e){qr(this,t),G(this,"rules",null),G(this,"_messages",kt),this.define(e)}return kr(t,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(qe(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var i=r[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(r){return r&&(this._messages=Ut(qt(),r)),this._messages}},{key:"validate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=r,u=a,l=i;if(typeof u=="function"&&(l=u,u={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function h(s){var y=[],c={};function N(M){if(Array.isArray(M)){var C;y=(C=y).concat.apply(C,$e(M))}else y.push(M)}for(var w=0;w<s.length;w++)N(s[w]);y.length?(c=At(y),l(y,c)):l(null,o)}if(u.messages){var g=this.messages();g===kt&&(g=qt()),Ut(g,u.messages),u.messages=g}else u.messages=this.messages();var d={},b=u.keys||Object.keys(this.rules);b.forEach(function(s){var y=n.rules[s],c=o[s];y.forEach(function(N){var w=N;typeof w.transform=="function"&&(o===r&&(o=F({},o)),c=o[s]=w.transform(c),c!=null&&(w.type=w.type||(Array.isArray(c)?"array":qe(c)))),typeof w=="function"?w={validator:w}:w=F({},w),w.validator=n.getValidationMethod(w),w.validator&&(w.field=s,w.fullField=w.fullField||s,w.type=n.getType(w),d[s]=d[s]||[],d[s].push({rule:w,value:c,source:o,field:s}))})});var v={};return ta(d,u,function(s,y){var c=s.rule,N=(c.type==="object"||c.type==="array")&&(qe(c.fields)==="object"||qe(c.defaultField)==="object");N=N&&(c.required||!c.required&&s.value),c.field=s.field;function w(k,A){return F(F({},A),{},{fullField:"".concat(c.fullField,".").concat(k),fullFields:c.fullFields?[].concat($e(c.fullFields),[k]):[k]})}function M(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=Array.isArray(k)?k:[k];!u.suppressWarning&&A.length&&t.warning("async-validator:",A),A.length&&c.message!==void 0&&(A=[].concat(c.message));var $=A.map(Gt(c,o));if(u.first&&$.length)return v[c.field]=1,y($);if(!N)y($);else{if(c.required&&!s.value)return c.message!==void 0?$=[].concat(c.message).map(Gt(c,o)):u.error&&($=[u.error(c,ce(u.messages.required,c.field))]),y($);var j={};c.defaultField&&Object.keys(s.value).map(function(V){j[V]=c.defaultField}),j=F(F({},j),s.rule.fields);var Q={};Object.keys(j).forEach(function(V){var L=j[V],Z=Array.isArray(L)?L:[L];Q[V]=Z.map(w.bind(null,V))});var X=new t(Q);X.messages(u.messages),s.rule.options&&(s.rule.options.messages=u.messages,s.rule.options.error=u.error),X.validate(s.value,s.rule.options||u,function(V){var L=[];$&&$.length&&L.push.apply(L,$e($)),V&&V.length&&L.push.apply(L,$e(V)),y(L.length?L:null)})}}var C;if(c.asyncValidator)C=c.asyncValidator(c,s.value,M,s.source,u);else if(c.validator){try{C=c.validator(c,s.value,M,s.source,u)}catch(k){var E,S;(E=(S=console).error)===null||E===void 0||E.call(S,k),u.suppressValidatorError||setTimeout(function(){throw k},0),M(k.message)}C===!0?M():C===!1?M(typeof c.message=="function"?c.message(c.fullField||c.field):c.message||"".concat(c.fullField||c.field," fails")):C instanceof Array?M(C):C instanceof Error&&M(C.message)}C&&C.then&&C.then(function(){return M()},function(k){return M(k)})},function(s){h(s)},o)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Pr.hasOwnProperty(r.type))throw new Error(ce("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Pr.required:Pr[this.getType(r)]||void 0}}]),t}();G(rt,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Pr[e]=r});G(rt,"warning",Xn);G(rt,"messages",kt);G(rt,"validators",Pr);function Da(t){var e=t.prefixCls,r=t.align,n=t.arrow,a=t.arrowPos,i=n||{},o=i.className,u=i.content,l=a.x,h=l===void 0?0:l,g=a.y,d=g===void 0?0:g,b=f.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var s=r.points[0],y=r.points[1],c=s[0],N=s[1],w=y[0],M=y[1];c===w||!["t","b"].includes(c)?v.top=d:c==="t"?v.top=0:v.bottom=0,N===M||!["l","r"].includes(N)?v.left=h:N==="l"?v.left=0:v.right=0}return f.createElement("div",{ref:b,className:Ee("".concat(e,"-arrow"),o),style:v},u)}function Pa(t){var e=t.prefixCls,r=t.open,n=t.zIndex,a=t.mask,i=t.motion;return a?f.createElement(sn,Dr({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(o){var u=o.className;return f.createElement("div",{style:{zIndex:n},className:Ee("".concat(e,"-mask"),u)})}):null}var Ra=f.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),Fa=f.forwardRef(function(t,e){var r=t.popup,n=t.className,a=t.prefixCls,i=t.style,o=t.target,u=t.onVisibleChanged,l=t.open,h=t.keepDom,g=t.fresh,d=t.onClick,b=t.mask,v=t.arrow,s=t.arrowPos,y=t.align,c=t.motion,N=t.maskMotion,w=t.forceRender,M=t.getPopupContainer,C=t.autoDestroy,E=t.portal,S=t.zIndex,k=t.onMouseEnter,A=t.onMouseLeave,$=t.onPointerEnter,j=t.onPointerDownCapture,Q=t.ready,X=t.offsetX,V=t.offsetY,L=t.offsetR,Z=t.offsetB,U=t.onAlign,ne=t.onPrepare,I=t.stretch,P=t.targetWidth,R=t.targetHeight,Ge=typeof r=="function"?r():r,me=l||h,Y=(M==null?void 0:M.length)>0,H=f.useState(!M||!Y),ie=q(H,2),Ue=ie[0],dr=ie[1];if(se(function(){!Ue&&Y&&o&&dr(!0)},[Ue,Y,o]),!Ue)return null;var Ne="auto",oe={left:"-1000vw",top:"-1000vh",right:Ne,bottom:Ne};if(Q||!l){var He,Oe=y.points,le=y.dynamicInset||((He=y._experimental)===null||He===void 0?void 0:He.dynamicInset),Me=le&&Oe[0][1]==="r",ye=le&&Oe[0][0]==="b";Me?(oe.right=L,oe.left=Ne):(oe.left=X,oe.right=Ne),ye?(oe.bottom=Z,oe.top=Ne):(oe.top=V,oe.bottom=Ne)}var ae={};return I&&(I.includes("height")&&R?ae.height=R:I.includes("minHeight")&&R&&(ae.minHeight=R),I.includes("width")&&P?ae.width=P:I.includes("minWidth")&&P&&(ae.minWidth=P)),l||(ae.pointerEvents="none"),f.createElement(E,{open:w||me,getContainer:M&&function(){return M(o)},autoDestroy:C},f.createElement(Pa,{prefixCls:a,open:l,zIndex:S,mask:b,motion:N}),f.createElement(un,{onResize:U,disabled:!l},function(gr){return f.createElement(sn,Dr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},c,{onAppearPrepare:ne,onEnterPrepare:ne,visible:l,onVisibleChanged:function(fe){var xe;c==null||(xe=c.onVisibleChanged)===null||xe===void 0||xe.call(c,fe),u(fe)}}),function(_e,fe){var xe=_e.className,Je=_e.style,ee=Ee(a,xe,n);return f.createElement("div",{ref:xn(gr,e,fe),className:ee,style:F(F(F(F({"--arrow-x":"".concat(s.x||0,"px"),"--arrow-y":"".concat(s.y||0,"px")},oe),ae),Je),{},{boxSizing:"border-box",zIndex:S},i),onMouseEnter:k,onMouseLeave:A,onPointerEnter:$,onClick:d,onPointerDownCapture:j},v&&f.createElement(Da,{prefixCls:a,arrow:v,arrowPos:s,align:y}),f.createElement(Ra,{cache:!l&&!g},Ge))})}))}),qa=f.forwardRef(function(t,e){var r=t.children,n=t.getTriggerDOMNode,a=an(r),i=f.useCallback(function(u){Dn(e,n?n(u):u)},[n]),o=on(i,Pn(r));return a?f.cloneElement(r,{ref:o}):r}),Jt=f.createContext(null);function Qt(t){return t?Array.isArray(t)?t:[t]:[]}function ka(t,e,r,n){return f.useMemo(function(){var a=Qt(r??e),i=Qt(n??e),o=new Set(a),u=new Set(i);return t&&(o.has("hover")&&(o.delete("hover"),o.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[o,u]},[t,e,r,n])}function Aa(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function La(t,e,r,n){for(var a=r.points,i=Object.keys(t),o=0;o<i.length;o+=1){var u,l=i[o];if(Aa((u=t[l])===null||u===void 0?void 0:u.points,a,n))return"".concat(e,"-placement-").concat(l)}return""}function Zt(t,e,r,n){return e||(r?{motionName:"".concat(t,"-").concat(r)}:n?{motionName:n}:null)}function Ar(t){return t.ownerDocument.defaultView}function Lt(t){for(var e=[],r=t==null?void 0:t.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=Ar(r).getComputedStyle(r),i=a.overflowX,o=a.overflowY,u=a.overflow;[i,o,u].some(function(l){return n.includes(l)})&&e.push(r),r=r.parentElement}return e}function Fr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Nr(t){return Fr(parseFloat(t),0)}function Kt(t,e){var r=F({},t);return(e||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=Ar(n).getComputedStyle(n),i=a.overflow,o=a.overflowClipMargin,u=a.borderTopWidth,l=a.borderBottomWidth,h=a.borderLeftWidth,g=a.borderRightWidth,d=n.getBoundingClientRect(),b=n.offsetHeight,v=n.clientHeight,s=n.offsetWidth,y=n.clientWidth,c=Nr(u),N=Nr(l),w=Nr(h),M=Nr(g),C=Fr(Math.round(d.width/s*1e3)/1e3),E=Fr(Math.round(d.height/b*1e3)/1e3),S=(s-y-w-M)*C,k=(b-v-c-N)*E,A=c*E,$=N*E,j=w*C,Q=M*C,X=0,V=0;if(i==="clip"){var L=Nr(o);X=L*C,V=L*E}var Z=d.x+j-X,U=d.y+A-V,ne=Z+d.width+2*X-j-Q-S,I=U+d.height+2*V-A-$-k;r.left=Math.max(r.left,Z),r.top=Math.max(r.top,U),r.right=Math.min(r.right,ne),r.bottom=Math.min(r.bottom,I)}}),r}function Xt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),n=r.match(/^(.*)\%$/);return n?t*(parseFloat(n[1])/100):parseFloat(r)}function Yt(t,e){var r=e||[],n=q(r,2),a=n[0],i=n[1];return[Xt(t.width,a),Xt(t.height,i)]}function en(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function lr(t,e){var r=e[0],n=e[1],a,i;return r==="t"?i=t.y:r==="b"?i=t.y+t.height:i=t.y+t.height/2,n==="l"?a=t.x:n==="r"?a=t.x+t.width:a=t.x+t.width/2,{x:a,y:i}}function ze(t,e){var r={t:"b",b:"t",l:"r",r:"l"};return t.map(function(n,a){return a===e?r[n]||"c":n}).join("")}function Ta(t,e,r,n,a,i,o){var u=f.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),l=q(u,2),h=l[0],g=l[1],d=f.useRef(0),b=f.useMemo(function(){return e?Lt(e):[]},[e]),v=f.useRef({}),s=function(){v.current={}};t||s();var y=Te(function(){if(e&&r&&t){let he=function(sr,We){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lr,Er=H.x+sr,Zr=H.y+We,Et=Er+Me,Nt=Zr+le,Mt=Math.max(Er,je.left),m=Math.max(Zr,je.top),x=Math.min(Et,je.right),W=Math.min(Nt,je.bottom);return Math.max(0,(x-Mt)*(W-m))},Qr=function(){Xe=H.y+B,Ye=Xe+le,Ae=H.x+_,ar=Ae+Me};var w,M,C,E,S=e,k=S.ownerDocument,A=Ar(S),$=A.getComputedStyle(S),j=$.width,Q=$.height,X=$.position,V=S.style.left,L=S.style.top,Z=S.style.right,U=S.style.bottom,ne=S.style.overflow,I=F(F({},a[n]),i),P=k.createElement("div");(w=S.parentElement)===null||w===void 0||w.appendChild(P),P.style.left="".concat(S.offsetLeft,"px"),P.style.top="".concat(S.offsetTop,"px"),P.style.position=X,P.style.height="".concat(S.offsetHeight,"px"),P.style.width="".concat(S.offsetWidth,"px"),S.style.left="0",S.style.top="0",S.style.right="auto",S.style.bottom="auto",S.style.overflow="hidden";var R;if(Array.isArray(r))R={x:r[0],y:r[1],width:0,height:0};else{var Ge,me,Y=r.getBoundingClientRect();Y.x=(Ge=Y.x)!==null&&Ge!==void 0?Ge:Y.left,Y.y=(me=Y.y)!==null&&me!==void 0?me:Y.top,R={x:Y.x,y:Y.y,width:Y.width,height:Y.height}}var H=S.getBoundingClientRect();H.x=(M=H.x)!==null&&M!==void 0?M:H.left,H.y=(C=H.y)!==null&&C!==void 0?C:H.top;var ie=k.documentElement,Ue=ie.clientWidth,dr=ie.clientHeight,Ne=ie.scrollWidth,oe=ie.scrollHeight,He=ie.scrollTop,Oe=ie.scrollLeft,le=H.height,Me=H.width,ye=R.height,ae=R.width,gr={left:0,top:0,right:Ue,bottom:dr},_e={left:-Oe,top:-He,right:Ne-Oe,bottom:oe-He},fe=I.htmlRegion,xe="visible",Je="visibleFirst";fe!=="scroll"&&fe!==Je&&(fe=xe);var ee=fe===Je,tt=Kt(_e,b),p=Kt(gr,b),Lr=fe===xe?p:tt,Qe=ee?p:Lr;S.style.left="auto",S.style.top="auto",S.style.right="0",S.style.bottom="0";var re=S.getBoundingClientRect();S.style.left=V,S.style.top=L,S.style.right=Z,S.style.bottom=U,S.style.overflow=ne,(E=S.parentElement)===null||E===void 0||E.removeChild(P);var Ie=Fr(Math.round(Me/parseFloat(j)*1e3)/1e3),ke=Fr(Math.round(le/parseFloat(Q)*1e3)/1e3);if(Ie===0||ke===0||Rt(r)&&!Rn(r))return;var nt=I.offset,at=I.targetOffset,Tr=Yt(H,nt),be=q(Tr,2),Ce=be[0],ve=be[1],it=Yt(R,at),Ze=q(it,2),de=Ze[0],pe=Ze[1];R.x-=de,R.y-=pe;var ot=I.points||[],$r=q(ot,2),ut=$r[0],st=$r[1],De=en(st),ue=en(ut),hr=lr(R,De),te=lr(H,ue),Be=F({},I),_=hr.x-te.x+Ce,B=hr.y-te.y+ve,Se=he(_,B),Ke=he(_,B,p),mr=lr(R,["t","l"]),ge=lr(H,["t","l"]),Hr=lr(R,["b","r"]),yr=lr(H,["b","r"]),Ve=I.overflow||{},_r=Ve.adjustX,ct=Ve.adjustY,br=Ve.shiftX,nr=Ve.shiftY,Cr=function(We){return typeof We=="boolean"?We:We>=0},Xe,Ye,Ae,ar;Qr();var er=Cr(ct),Ir=ue[0]===De[0];if(er&&ue[0]==="t"&&(Ye>Qe.bottom||v.current.bt)){var K=B;Ir?K-=le-ye:K=mr.y-yr.y-ve;var pr=he(_,K),lt=he(_,K,p);pr>Se||pr===Se&&(!ee||lt>=Ke)?(v.current.bt=!0,B=K,ve=-ve,Be.points=[ze(ue,0),ze(De,0)]):v.current.bt=!1}if(er&&ue[0]==="b"&&(Xe<Qe.top||v.current.tb)){var rr=B;Ir?rr+=le-ye:rr=Hr.y-ge.y-ve;var Br=he(_,rr),ft=he(_,rr,p);Br>Se||Br===Se&&(!ee||ft>=Ke)?(v.current.tb=!0,B=rr,ve=-ve,Be.points=[ze(ue,0),ze(De,0)]):v.current.tb=!1}var Vr=Cr(_r),Wr=ue[1]===De[1];if(Vr&&ue[1]==="l"&&(ar>Qe.right||v.current.rl)){var tr=_;Wr?tr-=Me-ae:tr=mr.x-yr.x-Ce;var jr=he(tr,B),ir=he(tr,B,p);jr>Se||jr===Se&&(!ee||ir>=Ke)?(v.current.rl=!0,_=tr,Ce=-Ce,Be.points=[ze(ue,1),ze(De,1)]):v.current.rl=!1}if(Vr&&ue[1]==="r"&&(Ae<Qe.left||v.current.lr)){var Le=_;Wr?Le+=Me-ae:Le=Hr.x-ge.x-Ce;var zr=he(Le,B),Gr=he(Le,B,p);zr>Se||zr===Se&&(!ee||Gr>=Ke)?(v.current.lr=!0,_=Le,Ce=-Ce,Be.points=[ze(ue,1),ze(De,1)]):v.current.lr=!1}Qr();var Pe=br===!0?0:br;typeof Pe=="number"&&(Ae<p.left&&(_-=Ae-p.left-Ce,R.x+ae<p.left+Pe&&(_+=R.x-p.left+ae-Pe)),ar>p.right&&(_-=ar-p.right-Ce,R.x>p.right-Pe&&(_+=R.x-p.right+Pe)));var we=nr===!0?0:nr;typeof we=="number"&&(Xe<p.top&&(B-=Xe-p.top-ve,R.y+ye<p.top+we&&(B+=R.y-p.top+ye-we)),Ye>p.bottom&&(B-=Ye-p.bottom-ve,R.y>p.bottom-we&&(B+=R.y-p.bottom+we)));var or=H.x+_,ur=or+Me,Re=H.y+B,vt=Re+le,Ur=R.x,dt=Ur+ae,Sr=R.y,gt=Sr+ye,ht=Math.max(or,Ur),mt=Math.min(ur,dt),Or=(ht+mt)/2,yt=Or-or,bt=Math.max(Re,Sr),Jr=Math.min(vt,gt),Ct=(bt+Jr)/2,St=Ct-Re;o==null||o(e,Be);var wr=re.right-H.x-(_+H.width),Fe=re.bottom-H.y-(B+H.height);Ie===1&&(_=Math.round(_),wr=Math.round(wr)),ke===1&&(B=Math.round(B),Fe=Math.round(Fe));var wt={ready:!0,offsetX:_/Ie,offsetY:B/ke,offsetR:wr/Ie,offsetB:Fe/ke,arrowX:yt/Ie,arrowY:St/ke,scaleX:Ie,scaleY:ke,align:Be};g(wt)}}),c=function(){d.current+=1;var M=d.current;Promise.resolve().then(function(){d.current===M&&y()})},N=function(){g(function(M){return F(F({},M),{},{ready:!1})})};return se(N,[n]),se(function(){t||N()},[t]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,c]}function $a(t,e,r,n,a){se(function(){if(t&&e&&r){let d=function(){n(),a()};var i=e,o=r,u=Lt(i),l=Lt(o),h=Ar(o),g=new Set([h].concat($e(u),$e(l)));return g.forEach(function(b){b.addEventListener("scroll",d,{passive:!0})}),h.addEventListener("resize",d,{passive:!0}),n(),function(){g.forEach(function(b){b.removeEventListener("scroll",d),h.removeEventListener("resize",d)})}}},[t,e,r])}function Ha(t,e,r,n,a,i,o,u){var l=f.useRef(t);l.current=t;var h=f.useRef(!1);f.useEffect(function(){if(e&&n&&(!a||i)){var d=function(){h.current=!1},b=function(c){var N;l.current&&!o(((N=c.composedPath)===null||N===void 0||(N=N.call(c))===null||N===void 0?void 0:N[0])||c.target)&&!h.current&&u(!1)},v=Ar(n);v.addEventListener("pointerdown",d,!0),v.addEventListener("mousedown",b,!0),v.addEventListener("contextmenu",b,!0);var s=Ft(r);return s&&(s.addEventListener("mousedown",b,!0),s.addEventListener("contextmenu",b,!0)),function(){v.removeEventListener("pointerdown",d,!0),v.removeEventListener("mousedown",b,!0),v.removeEventListener("contextmenu",b,!0),s&&(s.removeEventListener("mousedown",b,!0),s.removeEventListener("contextmenu",b,!0))}}},[e,r,n,a,i]);function g(){h.current=!0}return g}var _a=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ia(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mn,e=f.forwardRef(function(r,n){var a=r.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=r.children,u=r.action,l=u===void 0?"hover":u,h=r.showAction,g=r.hideAction,d=r.popupVisible,b=r.defaultPopupVisible,v=r.onPopupVisibleChange,s=r.afterPopupVisibleChange,y=r.mouseEnterDelay,c=r.mouseLeaveDelay,N=c===void 0?.1:c,w=r.focusDelay,M=r.blurDelay,C=r.mask,E=r.maskClosable,S=E===void 0?!0:E,k=r.getPopupContainer,A=r.forceRender,$=r.autoDestroy,j=r.destroyPopupOnHide,Q=r.popup,X=r.popupClassName,V=r.popupStyle,L=r.popupPlacement,Z=r.builtinPlacements,U=Z===void 0?{}:Z,ne=r.popupAlign,I=r.zIndex,P=r.stretch,R=r.getPopupClassNameFromAlign,Ge=r.fresh,me=r.alignPoint,Y=r.onPopupClick,H=r.onPopupAlign,ie=r.arrow,Ue=r.popupMotion,dr=r.maskMotion,Ne=r.popupTransitionName,oe=r.popupAnimation,He=r.maskTransitionName,Oe=r.maskAnimation,le=r.className,Me=r.getTriggerDOMNode,ye=$t(r,_a),ae=$||j||!1,gr=f.useState(!1),_e=q(gr,2),fe=_e[0],xe=_e[1];se(function(){xe(Fn())},[]);var Je=f.useRef({}),ee=f.useContext(Jt),tt=f.useMemo(function(){return{registerSubPopup:function(x,W){Je.current[x]=W,ee==null||ee.registerSubPopup(x,W)}}},[ee]),p=qn(),Lr=f.useState(null),Qe=q(Lr,2),re=Qe[0],Ie=Qe[1],ke=f.useRef(null),nt=Te(function(m){ke.current=m,Rt(m)&&re!==m&&Ie(m),ee==null||ee.registerSubPopup(p,m)}),at=f.useState(null),Tr=q(at,2),be=Tr[0],Ce=Tr[1],ve=f.useRef(null),it=Te(function(m){Rt(m)&&be!==m&&(Ce(m),ve.current=m)}),Ze=f.Children.only(o),de=(Ze==null?void 0:Ze.props)||{},pe={},ot=Te(function(m){var x,W,O=be;return(O==null?void 0:O.contains(m))||((x=Ft(O))===null||x===void 0?void 0:x.host)===m||m===O||(re==null?void 0:re.contains(m))||((W=Ft(re))===null||W===void 0?void 0:W.host)===m||m===re||Object.values(Je.current).some(function(z){return(z==null?void 0:z.contains(m))||m===z})}),$r=Zt(i,Ue,oe,Ne),ut=Zt(i,dr,Oe,He),st=f.useState(b||!1),De=q(st,2),ue=De[0],hr=De[1],te=d??ue,Be=Te(function(m){d===void 0&&hr(m)});se(function(){hr(d||!1)},[d]);var _=f.useRef(te);_.current=te;var B=f.useRef([]);B.current=[];var Se=Te(function(m){var x;Be(m),((x=B.current[B.current.length-1])!==null&&x!==void 0?x:te)!==m&&(B.current.push(m),v==null||v(m))}),Ke=f.useRef(),mr=function(){clearTimeout(Ke.current)},ge=function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;mr(),W===0?Se(x):Ke.current=setTimeout(function(){Se(x)},W*1e3)};f.useEffect(function(){return mr},[]);var Hr=f.useState(!1),yr=q(Hr,2),Ve=yr[0],_r=yr[1];se(function(m){(!m||te)&&_r(!0)},[te]);var ct=f.useState(null),br=q(ct,2),nr=br[0],Cr=br[1],Xe=f.useState(null),Ye=q(Xe,2),Ae=Ye[0],ar=Ye[1],er=function(x){ar([x.clientX,x.clientY])},Ir=Ta(te,re,me&&Ae!==null?Ae:be,L,U,ne,H),K=q(Ir,11),pr=K[0],lt=K[1],rr=K[2],Br=K[3],ft=K[4],Vr=K[5],Wr=K[6],tr=K[7],jr=K[8],ir=K[9],Le=K[10],zr=ka(fe,l,h,g),Gr=q(zr,2),Pe=Gr[0],we=Gr[1],or=Pe.has("click"),ur=we.has("click")||we.has("contextMenu"),Re=Te(function(){Ve||Le()}),vt=function(){_.current&&me&&ur&&ge(!1)};$a(te,be,re,Re,vt),se(function(){Re()},[Ae,L]),se(function(){te&&!(U!=null&&U[L])&&Re()},[JSON.stringify(ne)]);var Ur=f.useMemo(function(){var m=La(U,i,ir,me);return Ee(m,R==null?void 0:R(ir))},[ir,R,U,i,me]);f.useImperativeHandle(n,function(){return{nativeElement:ve.current,popupElement:ke.current,forceAlign:Re}});var dt=f.useState(0),Sr=q(dt,2),gt=Sr[0],ht=Sr[1],mt=f.useState(0),Or=q(mt,2),yt=Or[0],bt=Or[1],Jr=function(){if(P&&be){var x=be.getBoundingClientRect();ht(x.width),bt(x.height)}},Ct=function(){Jr(),Re()},St=function(x){_r(!1),Le(),s==null||s(x)},wr=function(){return new Promise(function(x){Jr(),Cr(function(){return x})})};se(function(){nr&&(Le(),nr(),Cr(null))},[nr]);function Fe(m,x,W,O){pe[m]=function(z){var Kr;O==null||O(z),ge(x,W);for(var xt=arguments.length,_t=new Array(xt>1?xt-1:0),Xr=1;Xr<xt;Xr++)_t[Xr-1]=arguments[Xr];(Kr=de[m])===null||Kr===void 0||Kr.call.apply(Kr,[de,z].concat(_t))}}(or||ur)&&(pe.onClick=function(m){var x;_.current&&ur?ge(!1):!_.current&&or&&(er(m),ge(!0));for(var W=arguments.length,O=new Array(W>1?W-1:0),z=1;z<W;z++)O[z-1]=arguments[z];(x=de.onClick)===null||x===void 0||x.call.apply(x,[de,m].concat(O))});var wt=Ha(te,ur,be,re,C,S,ot,ge),he=Pe.has("hover"),Qr=we.has("hover"),sr,We;he&&(Fe("onMouseEnter",!0,y,function(m){er(m)}),Fe("onPointerEnter",!0,y,function(m){er(m)}),sr=function(x){(te||Ve)&&re!==null&&re!==void 0&&re.contains(x.target)&&ge(!0,y)},me&&(pe.onMouseMove=function(m){var x;(x=de.onMouseMove)===null||x===void 0||x.call(de,m)})),Qr&&(Fe("onMouseLeave",!1,N),Fe("onPointerLeave",!1,N),We=function(){ge(!1,N)}),Pe.has("focus")&&Fe("onFocus",!0,w),we.has("focus")&&Fe("onBlur",!1,M),Pe.has("contextMenu")&&(pe.onContextMenu=function(m){var x;_.current&&we.has("contextMenu")?ge(!1):(er(m),ge(!0)),m.preventDefault();for(var W=arguments.length,O=new Array(W>1?W-1:0),z=1;z<W;z++)O[z-1]=arguments[z];(x=de.onContextMenu)===null||x===void 0||x.call.apply(x,[de,m].concat(O))}),le&&(pe.className=Ee(de.className,le));var je=F(F({},de),pe),Er={},Zr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Zr.forEach(function(m){ye[m]&&(Er[m]=function(){for(var x,W=arguments.length,O=new Array(W),z=0;z<W;z++)O[z]=arguments[z];(x=je[m])===null||x===void 0||x.call.apply(x,[je].concat(O)),ye[m].apply(ye,O)})});var Et=f.cloneElement(Ze,F(F({},je),Er)),Nt={x:Vr,y:Wr},Mt=ie?F({},ie!==!0?ie:{}):null;return f.createElement(f.Fragment,null,f.createElement(un,{disabled:!te,ref:it,onResize:Ct},f.createElement(qa,{getTriggerDOMNode:Me},Et)),f.createElement(Jt.Provider,{value:tt},f.createElement(Fa,{portal:t,ref:nt,prefixCls:i,popup:Q,className:Ee(X,Ur),style:V,target:be,onMouseEnter:sr,onMouseLeave:We,onPointerEnter:sr,zIndex:I,open:te,keepDom:Ve,fresh:Ge,onClick:Y,onPointerDownCapture:wt,mask:C,motion:$r,maskMotion:ut,onVisibleChanged:St,onPrepare:wr,forceRender:A,autoDestroy:ae,getPopupContainer:k,align:ir,arrow:Mt,arrowPos:Nt,ready:pr,offsetX:lt,offsetY:rr,offsetR:Br,offsetB:ft,onAlign:Re,stretch:P,targetWidth:gt/tr,targetHeight:yt/jr})))});return e}const Ya=Ia(mn);function Tt(){return typeof BigInt=="function"}function bn(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function Rr(t){var e=t.trim(),r=e.startsWith("-");r&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var n=e||"0",a=n.split("."),i=a[0]||"0",o=a[1]||"0";i==="0"&&o==="0"&&(r=!1);var u=r?"-":"";return{negative:r,negativeStr:u,trimStr:n,integerStr:i,decimalStr:o,fullStr:"".concat(u).concat(n)}}function Ht(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function xr(t){var e=String(t);if(Ht(t)){var r=Number(e.slice(e.indexOf("e-")+2)),n=e.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return e.includes(".")&&Sn(e)?e.length-e.indexOf(".")-1:0}function Cn(t){var e=String(t);if(Ht(t)){if(t>Number.MAX_SAFE_INTEGER)return String(Tt()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(Tt()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(xr(e))}return Rr(e).fullStr}function Sn(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var pa=function(){function t(e){if(qr(this,t),G(this,"origin",""),G(this,"negative",void 0),G(this,"integer",void 0),G(this,"decimal",void 0),G(this,"decimalLen",void 0),G(this,"empty",void 0),G(this,"nan",void 0),bn(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var r=e;if(Ht(r)&&(r=Number(r)),r=typeof r=="string"?r:Cn(r),Sn(r)){var n=Rr(r);this.negative=n.negative;var a=n.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return kr(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new t(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,a){var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),o=this.alignDecimal(i),u=r.alignDecimal(i),l=n(o,u).toString(),h=a(i),g=Rr(l),d=g.negativeStr,b=g.trimStr,v="".concat(d).concat(b.padStart(h+1,"0"));return new t("".concat(v.slice(0,-h),".").concat(v.slice(-h)))}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=new t(r);return n.isInvalidate()?this:this.cal(n,function(a,i){return a+i},function(a){return a})}},{key:"multi",value:function(r){var n=new t(r);return this.isInvalidate()||n.isInvalidate()?new t(NaN):this.cal(n,function(a,i){return a*i},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Rr("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),Ba=function(){function t(e){if(qr(this,t),G(this,"origin",""),G(this,"number",void 0),G(this,"empty",void 0),bn(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return kr(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=Number(r);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(xr(this.number),xr(n));return new t(a.toFixed(i))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new t(NaN);var a=this.number*n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(xr(this.number),xr(n));return new t(a.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Cn(this.number):this.origin}}]),t}();function Va(t){return Tt()?new pa(t):new Ba(t)}function Wa(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var a=Rr(t),i=a.negativeStr,o=a.integerStr,u=a.decimalStr,l="".concat(e).concat(u),h="".concat(i).concat(o);if(r>=0){var g=Number(u[r]);if(g>=5&&!n){var d=Va(t).add("".concat(i,"0.").concat("0".repeat(r)).concat(10-g));return Wa(d.toString(),e,r,n)}return r===0?h:"".concat(h).concat(e).concat(u.padEnd(r,"0").slice(0,r))}return l===".0"?h:"".concat(h).concat(l)}export{vr as C,mn as P,rt as S,Ya as T,_n as a,Xa as b,xr as c,Wa as d,Va as g,Cn as n,Rr as t,Sn as v};
